<div class="row">
    <div class="col ms-12">
    <%= form_with(model: @post, url: posts_path, method: :get, :class => "form-inline justify-content-center") do |form| %>
        <%= search_field_tag :search, params[:search], placeholder: "Keyword Search", class: "form-control" %>
    <%= form.submit "Search" %>
    <% end %>
    </div>
</div>
<br>

<div class="row">
    <div class="col-9">
    <h1 class="d-inline"><%= fa_icon "comments", text: "Forum" %></h1>
    <%= link_to("/posts/new", class: "ml-2 d-inline text-center") do %>
        <%= fa_icon "plus", text: "Create" %>
    <% end %>
</div>
<br>
<br>

<div class="row">
    <div class="col-4">
        <%= form_with(model: @post, url: posts_path, method: :get, local: true) do |form| %>
            <% @categories.each do |cat| %>
                <%= check_box_tag 'category[]', cat, false %>
                <%= cat %><br>
            <% end%>
            <%= form.submit "Select Categories" %>            
        <% end %>
    </div>
    <div class="col-8 d-inline">
    <table class="table">
        <thead>
            <tr>
            <th>Title</th>
            <th>Date</th>
            <th></th>
            </tr>
        </thead>

        <tbody>
            <% @posts.each do |post| %>
            <tr>
                <td><%= post.title %></td>
                <td><%= to_datetime_string(post.created_at) %></td>
                <td>
                    <%= link_to(post) do %>
                        <%= fa_icon "info-circle", text: "Show" %>
                    <% end %>
                    <% if owns_model?(post) %>
                        <%= render "/layouts/operations", edit_route: edit_post_path(post), destroy_route: post %>
                    <% end %>
                </td>
            </tr>
            <% end %>
        </tbody>
    </table>
    </div>
    </div>
</div>