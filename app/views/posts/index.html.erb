<h1 class="d-inline"><%= fa_icon "comments", text: "Forum" %></h1>
<%= link_to("/posts/new", class: "ml-2 d-inline") do %>
    <%= fa_icon "plus", text: "Create" %>
<% end %>

<table class="table">
    <thead>
        <tr>
        <th>Title</th>
        <th>Date Posted</th>
        <th># of Replies</th>
        <th>Actions</th>
        </tr>
    </thead>

    <tbody>
        <% @posts.each do |post| %>
        <tr>
            <td>
            <%= post.title %>
            <% if post.pinned %>
                <span class="badge badge-secondary">
                    <%= fa_icon "tag", text: "Pinned" %>
                </span>
            <% end %>
            </td>
            <td><%= to_datetime_string(post.created_at) %></td>
            <td><%= post.replies.count %>
            <td>
                <%= link_to(post) do %>
                    <%= fa_icon "info-circle", text: "Show" %>
                <% end %>
                <% if owns_model?(post) %>
                    <%= render "/layouts/operations", edit_route: edit_post_path(post), destroy_route: post %>
                <% end %>
            </td>
        </tr>
        <% end %>
    </tbody>
</table>

<%= paginate @posts %>